(function(){var e,t,r,n;n=require("request"),r=require("querystring"),t=require("./endpoints"),e=function(){function e(e){this.credentials=e}var r,o;return o=function(e,t,r){var o;o={callback:"/",consumer_key:t.consumer_key,consumer_secret:t.consumer_secret},n({url:e,json:!0,oauth:o},function(e,t,n){e||200!==t.statusCode||r(n)})},r=function(e){var t,r,n,o,u;for(u=[],o=e.statuses,t=0,r=o.length;r>t;t++)n=o[t],u.push({date:n.created_at,body:n.text,location:{geo:n.geo,coordinates:n.coordinates,place:n.place},"retweet-count":n.retweet_count,"favorited-count":n.favorite_count,lang:n.lang});return u},e.prototype.byTopic=function(e,n){var u;return u=t.FETCH_TWEETS+"?q="+e,o(u,this.credentials,function(e){return n(r(e))})},e}(),module.exports=e}).call(this);