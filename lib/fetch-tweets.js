(function(){var e,t,r,n;n=require("request"),r=require("querystring"),t=require("./endpoints"),e=function(){function e(e){this.credentials=e}var o,u;return u=function(e,t,r){var o;return o={callback:"/",consumer_key:t.consumer_key,consumer_secret:t.consumer_secret},n({url:e,json:!0,oauth:o},function(e,t,n){return e||200!==t.statusCode?void 0:r(n)})},o=function(e){var t,r,n,o,u;for(u=[],o=e.statuses,t=0,r=o.length;r>t;t++)n=o[t],u.push({date:n.created_at,body:n.text,location:{geo:n.geo,coordinates:n.coordinates,place:n.place},"retweet-count":n.retweet_count,"favorited-count":n.favorite_count,lang:n.lang});return u},e.prototype.byTopic=function(e,n){var c,i;return i="string"==typeof e?"q="+e:"object"==typeof e?r.stringify(e):"q=test",c=t.FETCH_TWEETS+"?"+i,u(c,this.credentials,function(e){return n(o(e))})},e}(),module.exports=e}).call(this);